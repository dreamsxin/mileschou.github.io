---
published: false
layout: post
title: 簡介密碼學
tags:
- ironman
- ironman-2020
- authentication
---

密碼學基礎為數學與電腦科學，雖然有分為古典密碼學與現代密碼學兩種，因 web 身分驗證都跟現代密碼學息息相關，所以本主題提到的密碼學都是指現代密碼學。

密碼學旨在討論資訊保密、資訊完整性、不可抵賴性、以及資訊安全問題等。而除了身分驗證以外，這些特性也是其他某些技術的基礎，如[區塊鏈](https://zh.wikipedia.org/wiki/%E5%8C%BA%E5%9D%97%E9%93%BE)。


## 術語

這裡會簡單介紹與密碼學相關的術語

### 加密與解密、明文與密文

加密（encrypt）與解密（decrypt）是互為相反的操作，加密是將明文（plaintext）轉變成密文（cipher）的過程；解密則是將密文轉變成明文的過程。以時序圖來看如下：

![](http://www.plantuml.com/plantuml/png/SoWkIImgAStDuNBCoKnELT2rKt3DIowgB2X9BR9I2CX9pCmhIQqeuO8BWbIufC9LE6SMP005op8J5K0gY_9IIxY0qWYrJlb9oEOufEQb06q30000)

```
@startuml
Alice -> Encrypter: Plaintext
Encrypter -> Decrypter: Cipher via internet
Decrypter -> Bob: Plaintext
@enduml
```

以上例來看，密文放上網路上之後，是沒人看得懂的。只有擁有解密器的 Bob 才能將此密文解回明文。

### Kerckhoffs's principle

上述的加密解密流程是非常理想的。舉個例子，只要演算法流出的話（如電腦被偷），那任何人都能當攻擊者攻擊兩邊的系統。

這位 Kerckhoffs 在 19 世紀的時候提出一系列的設計加密系統的原則，而關鍵在於他提到了：即使演算法完全洩漏，只要金鑰沒有洩漏，密文就仍然是安全的，如 [JWT][] 在 header 上就有明白跟大家說它是用什麼樣的演算法。當然這並不是說要叫大家公開演算法，而是說要確保公開了也不會有安全上的問題。

### 雜湊

密碼學裡的雜湊（hash），具備以下理想的特性：

* [*Avalanche effect*](https://en.wikipedia.org/wiki/Avalanche_effect)，指輸入發生微小的改變，輸出會有很大的改變
* *Preimage resistance*，指依靠輸出的結果，是求不到輸入值的，也就是俗稱的不可逆
* *Second-preimage resistance*，給定字串 X，很難找到另一個字串 Y 讓 hash(X) = hash(Y)
* *Collision resistance*，無法計算出兩個字串 X 與 Y 讓 hash(X) = hash(Y)

這些特性讓雜湊在身分驗證上有非常多種應用，最常聽到的就是作為保存密碼的方法，這樣即便雜湊外流了，理想上是無法從雜湊回推密碼。

### MAC

[Message authentication code](https://zh.wikipedia.org/wiki/%E8%A8%8A%E6%81%AF%E9%91%91%E5%88%A5%E7%A2%BC)，簡稱 MAC。它可以用特定演算法，從原本的資訊來產生一小段資訊，目的是確定原本的資訊沒有被更改過，從 Wiki 的範例圖可以非常清楚了解它的運作流程。

![](https://upload.wikimedia.org/wikipedia/commons/thumb/0/08/MAC.svg/1920px-MAC.svg.png)

> 來源：[Wiki](https://zh.wikipedia.org/wiki/%E8%A8%8A%E6%81%AF%E9%91%91%E5%88%A5%E7%A2%BC#/media/File:MAC.svg) 

### 數位簽章

[數位簽章（digital signature）](https://zh.wikipedia.org/wiki/%E6%95%B8%E4%BD%8D%E7%B0%BD%E7%AB%A0)，

### 亂數

## 參考資料

* [應用密碼學入門](https://hitcon.org/2018/CMT/slide-files/d1_s2_r4.pdf)

[JWT]: https://jwt.io
